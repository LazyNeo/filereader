"use strict";webpackJsonp([5],{365:function(t,e,a){function o(t){a(442)}var n=a(18)(a(390),a(473),o,"data-v-7829b9c4",null);t.exports=n.exports},389:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var o=a(39),n=a.n(o),i=a(5),l=a.n(i),s=a(37),c=a(40),r=a.n(c);e.default={data:function(){var t=this;return{ifNotDev:!1,currentVersion:"",configData:{host:"192.168.31.131",env:"",comps:{sync:!0,pos:!0},sync:{period:3},printer:""},checkRule:{host:[{validator:function(e,o,n){""===o?n(new Error("请输入ip")):a.i(s.c)("http://"+t.configData.host+":8097/test",{},{timeout:1500}).then(function(e){if(0!==e.code)return window.M6.alert(e.msg),void n(new Error("该服务器ip不可用"));n(),t.ipOk=!0}).catch(function(e){console.error(e),t.ipOk=!1,n(new Error("该服务器ip不可用"))})},trigger:"blur"}]},printerList:[],ipOk:!0}},methods:{onSubmit:function(){if(!this.ipOk)return void window.M6.alert("ip未通过！");l.a.writeFile(M6Config.filePath+"m6conf.json",n()(this.configData,null,"  "),function(t){if(t)throw console.info(t),t;window.M6.alert("修改完成",{type:"success"}),window.localConfig=this.configData})}},created:function(){var t=this;this.configData=window.localConfig,this.ifNotDev=!M6Config.ifDev&&0===Number(localConfig.is_debug),this.currentVersion=r.a.App.manifest.version,r.a.Window.get().getPrinters(function(e){t.printerList=e})}}},390:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var o=a(452),n=a.n(o),i=a(454),l=a.n(i),s=a(453),c=a.n(s);e.default={data:function(){return{activeTab:"first"}},methods:{toggleTab:function(){}},components:{basicSet:n.a,syncSet:l.a,posSet:c.a}}},391:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{configData:{}}},methods:{},created:function(){}}},392:function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var o=a(39),n=a.n(o),i=a(5),l=a.n(i);e.default={data:function(){return{timeList:[{label:"6:00",value:6},{label:"7:00",value:7},{label:"8:00",value:8},{label:"9:00",value:9},{label:"10:00",value:10},{label:"11:00",value:11},{label:"12:00",value:12},{label:"13:00",value:13},{label:"14:00",value:14},{label:"15:00",value:15},{label:"16:00",value:16},{label:"17:00",value:17},{label:"18:00",value:18},{label:"19:00",value:19},{label:"20:00",value:20}],configData:{sync:{period:3}}}},methods:{onSubmit:function(){if(this.configData.sync.startHours>=this.configData.sync.endHours)return void M6.alert("开始同步时间不能晚于结束同步时间",{type:"error"});l.a.writeFile(M6Config.filePath+"m6conf.json",n()(this.configData,null,"  "),function(t){if(t)throw window.M6.alert("修改失败",{type:"error"}),t;window.M6.alert("修改完成",{type:"success"}),window.localConfig=this.configData})}},created:function(){this.configData=window.localConfig}}},414:function(t,e,a){e=t.exports=a(353)(!1),e.push([t.i,".set-config[data-v-594ead39]{padding:20px 0}.set-config .el-input[data-v-594ead39]{width:300px}",""])},416:function(t,e,a){e=t.exports=a(353)(!1),e.push([t.i,".set-config[data-v-68b9b0da]{padding:20px 0}.set-config .el-input[data-v-68b9b0da]{width:300px}",""])},418:function(t,e,a){e=t.exports=a(353)(!1),e.push([t.i,".set-tab[data-v-7829b9c4]{margin:20px 20px 0}",""])},420:function(t,e,a){e=t.exports=a(353)(!1),e.push([t.i,".set-config[data-v-8608641c]{padding:20px 0}.set-config .el-input[data-v-8608641c]{width:300px}",""])},438:function(t,e,a){var o=a(414);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(354)("295e5184",o,!0,{})},440:function(t,e,a){var o=a(416);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(354)("57a72dfe",o,!0,{})},442:function(t,e,a){var o=a(418);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(354)("5b4affa8",o,!0,{})},444:function(t,e,a){var o=a(420);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a(354)("4b49e378",o,!0,{})},452:function(t,e,a){function o(t){a(438)}var n=a(18)(a(389),a(469),o,"data-v-594ead39",null);t.exports=n.exports},453:function(t,e,a){function o(t){a(440)}var n=a(18)(a(391),a(471),o,"data-v-68b9b0da",null);t.exports=n.exports},454:function(t,e,a){function o(t){a(444)}var n=a(18)(a(392),a(475),o,"data-v-8608641c",null);t.exports=n.exports},469:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"set-config"},[a("el-form",{ref:"form",attrs:{model:t.configData,"status-icon":"",rules:t.checkRule,"label-width":"80px"}},[a("el-form-item",{attrs:{disabled:"",label:"当前版本"}},[a("p",[t._v(t._s(t.currentVersion))])]),t._v(" "),a("el-form-item",{attrs:{disabled:"",label:"运行环境"}},[a("el-radio",{attrs:{disabled:t.ifNotDev,label:"center"},model:{value:t.configData.env,callback:function(e){t.$set(t.configData,"env",e)},expression:"configData.env"}},[t._v("中心")]),t._v(" "),a("el-radio",{attrs:{disabled:t.ifNotDev,label:"store"},model:{value:t.configData.env,callback:function(e){t.$set(t.configData,"env",e)},expression:"configData.env"}},[t._v("门店")])],1),t._v(" "),a("el-form-item",{attrs:{label:"首页"}},[a("el-radio",{attrs:{disabled:t.ifNotDev,label:"syncHome"},model:{value:t.configData.root,callback:function(e){t.$set(t.configData,"root",e)},expression:"configData.root"}},[t._v("同步程序")]),t._v(" "),a("el-radio",{attrs:{disabled:t.ifNotDev,label:"umsposWelcome"},model:{value:t.configData.root,callback:function(e){t.$set(t.configData,"root",e)},expression:"configData.root"}},[t._v("无人收银程序")]),t._v(" "),a("el-radio",{attrs:{disabled:t.ifNotDev,label:"umsposLog"},model:{value:t.configData.root,callback:function(e){t.$set(t.configData,"root",e)},expression:"configData.root"}},[t._v("无人收银日志墙")])],1),t._v(" "),a("el-form-item",{attrs:{label:"服务器ip",prop:"host"}},[a("el-input",{attrs:{disabled:t.ifNotDev,"auto-complete":"off"},model:{value:t.configData.host,callback:function(e){t.$set(t.configData,"host",e)},expression:"configData.host"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"同步功能"}},[a("el-switch",{attrs:{disabled:t.ifNotDev},model:{value:t.configData.comps.sync,callback:function(e){t.$set(t.configData.comps,"sync",e)},expression:"configData.comps.sync"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"pos收银"}},[a("el-switch",{attrs:{disabled:t.ifNotDev},model:{value:t.configData.comps.pos,callback:function(e){t.$set(t.configData.comps,"pos",e)},expression:"configData.comps.pos"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"pos收银"}},[a("el-switch",{attrs:{disabled:t.ifNotDev},model:{value:t.configData.comps.umspos,callback:function(e){t.$set(t.configData.comps,"umspos",e)},expression:"configData.comps.umspos"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"小票打印机"}},[a("el-select",{attrs:{disabled:t.ifNotDev,placeholder:"请选择活动区域"},model:{value:t.configData.printer,callback:function(e){t.$set(t.configData,"printer",e)},expression:"configData.printer"}},t._l(t.printerList,function(t,e){return a("el-option",{key:e,attrs:{label:t.printerName,value:t.printerName}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"门店编码"}},[a("el-input",{attrs:{disabled:t.ifNotDev},model:{value:t.configData.store_code,callback:function(e){t.$set(t.configData,"store_code",e)},expression:"configData.store_code"}})],1),t._v(" "),t.ifNotDev?t._e():a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认更改")])],1)],1)],1)])},staticRenderFns:[]}},471:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"set-config"})])}]}},473:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-tabs",{staticClass:"set-tab",attrs:{type:"card"},on:{"tab-click":t.toggleTab},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"基础设置",name:"first"}},[a("basic-set")],1),t._v(" "),a("el-tab-pane",{attrs:{label:"同步设置",name:"second"}},[a("sync-set")],1),t._v(" "),t._e()],1)],1)},staticRenderFns:[]}},475:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"set-config"},[a("el-form",{ref:"form",attrs:{"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"开始同步时间"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.configData.sync.startHours,callback:function(e){t.$set(t.configData.sync,"startHours",e)},expression:"configData.sync.startHours"}},t._l(t.timeList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"结束同步时间"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.configData.sync.endHours,callback:function(e){t.$set(t.configData.sync,"endHours",e)},expression:"configData.sync.endHours"}},t._l(t.timeList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"刷新间隔(秒)"}},[a("el-input",{model:{value:t.configData.sync.period,callback:function(e){t.$set(t.configData.sync,"period",e)},expression:"configData.sync.period"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最大日志条数"}},[a("el-input",{model:{value:t.configData.sync.maxLogNum,callback:function(e){t.$set(t.configData.sync,"maxLogNum",e)},expression:"configData.sync.maxLogNum"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认更改")])],1)],1)],1)])},staticRenderFns:[]}}});